<script src="../bower_components/page/page.js"></script>
<script>
  window.addEventListener('WebComponentsReady', function() {

    var app = document.querySelector('#app')

    page('/', function () {
      page('/home')
    })

    page('/home', function () {
      app.route = '/home'
      app.initialize()
    })

    // workaround
    page('/ipfs/:a', function () {
      page('/home')
    })
    // end workaround

    page('/init', function () {
      app.route = '/init'
    })

    page('/reading', function () {
      app.route = '/reading'
    })

    page('/starlog/:loghash', function (e) {
      app.route = '/starlog/' + e.params.loghash
      app.loghash = e.params.loghash
    })

    page('/starlog/:loghash/:seqnr', function (e) {
      app.route = '/starlog/' + e.params.loghash +
        '/' + e.params.seqnr
      app.loghash = e.params.loghash
      app.seqnr = e.params.seqnr
      app.loadLog()
    })

    // add #! before urls
    page({
      hashbang: true
    })

  })
</script>
