
<script src='ipfsapi.min.js'></script>

<dom-module id="ipfs-api">
  <script>
    (function () {
      Polymer({
        is: 'ipfs-api',
        properties: {
          host: {
            type: String
          },
          port: {
            type: Number
          }
        },
        url: function (path) {
          return 'http://' + this.host + ':' + this.port + path
        },
        ready: function() {

          if (!this.host) {
            var split = window.location.host.split(":")
            this.host = split[0]
            this.port = split[1]

            // dev bullshit
            if (this.port == 8082) {
              this.port = 5001
            }
          }

          this.api = ipfsAPI(this.host, this.port)
        }
      });
    })();
  </script>

</dom-module>
